<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Login to your FitFood account">
    <title>–í—Ö–æ–¥ - FitFood</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/svg+xml" href="../images/favicon.svg">
    <link rel="icon" type="image/png" href="../images/favicon.png">
    <script src="../js/theme.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FFFFFF',
                        secondary: '#F8F9FA', 
                        accent: '#27AE60',
                        textdark: '#2C3E50',
                        textlight: '#7F8C8D',
                    },
                    fontFamily: {
                        'merriweather': ['Merriweather', 'serif'],
                        'montserrat': ['Montserrat', 'sans-serif'],
                    }
                }
            }
        }
    </script>
</head>
<body class="font-montserrat min-h-screen bg-primary">
    <!-- Header -->
    <header class="bg-white shadow-lg">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <!-- Logo -->
                <a href="../index.html" class="font-merriweather text-2xl font-bold text-accent flex items-center">
                    üçé FitFood
                </a>

                <!-- Navigation -->
                <nav class="hidden md:flex space-x-8">
                    <a href="../index.html" class="font-medium hover:text-accent transition-colors">–ì–ª–∞–≤–Ω–∞—è</a>
                    <a href="../index.html#catalog" class="font-medium hover:text-accent transition-colors">–ö–∞—Ç–∞–ª–æ–≥</a>
                    <a href="../index.html#about" class="font-medium hover:text-accent transition-colors">–û –Ω–∞—Å</a>
                    <a href="../index.html#contacts" class="font-medium hover:text-accent transition-colors">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                </nav>

                <!-- Auth Buttons -->
                <div class="flex items-center space-x-4">
                    <button id="darkModeToggle" class="text-textdark hover:text-accent transition-colors" aria-label="Toggle dark mode">
                        <i class="fas fa-moon text-xl"></i>
                    </button>
                    <a href="register.html" class="px-6 py-2 border-2 border-accent text-accent rounded-lg font-semibold hover:bg-accent hover:text-white transition-colors">
                        –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow bg-gradient-to-br from-accent to-green-400 py-8">
        <div class="container mx-auto px-4 flex items-center justify-center min-h-[80vh]">
            <!-- Login Container -->
            <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md">
                <!-- Header -->
                <div class="text-center mb-8">
                    <a href="../index.html" class="font-merriweather text-2xl font-bold text-accent block mb-4">
                        üçé FitFood
                    </a>
                    <h1 class="font-merriweather text-3xl font-bold text-textdark mb-2">
                        –í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç
                    </h1>
                    <p class="text-textlight">
                        –í–æ–π–¥–∏—Ç–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞–º–∏
                    </p>
                </div>

                <!-- Login Form -->
                <form id="loginForm" class="space-y-6">
                    <!-- Email Field -->
                    <div>
                        <label for="email" class="block text-sm font-medium text-textdark mb-2">
                            Email –∞–¥—Ä–µ—Å
                        </label>
                        <input 
                            type="email" 
                            id="email" 
                            name="email"
                            required
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all"
                            placeholder="–≤–∞—à@email.com"
                        >
                    </div>

                    <!-- Password Field -->
                    <div>
                        <label for="password" class="block text-sm font-medium text-textdark mb-2">
                            –ü–∞—Ä–æ–ª—å
                        </label>
                        <input 
                            type="password" 
                            id="password" 
                            name="password"
                            required
                            minlength="6"
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-accent focus:border-transparent transition-all"
                            placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                        >
                        <div class="flex justify-end mt-2">
                            <a href="#" class="text-sm text-accent hover:underline">
                                –ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?
                            </a>
                        </div>
                    </div>

                    <!-- Remember Me -->
                    <div class="flex items-center">
                        <input 
                            type="checkbox" 
                            id="remember"
                            name="remember"
                            class="w-4 h-4 text-accent border-gray-300 rounded focus:ring-accent"
                        >
                        <label for="remember" class="ml-3 text-sm text-textlight">
                            –ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è
                        </label>
                    </div>

                    <!-- Login Button -->
                    <button 
                        type="submit"
                        class="w-full bg-accent text-white py-3 px-4 rounded-lg font-semibold hover:bg-green-600 transition-colors shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-transform"
                    >
                        –í–æ–π—Ç–∏
                    </button>
                </form>

                <!-- Divider -->
                <div class="flex items-center my-6">
                    <div class="flex-1 border-t border-gray-300"></div>
                    <span class="px-4 text-textlight text-sm">–∏–ª–∏</span>
                    <div class="flex-1 border-t border-gray-300"></div>
                </div>

                <!-- Social Login -->
                <div class="grid grid-cols-2 gap-4">
                    <button type="button" class="flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
                        <i class="fab fa-google text-red-600 mr-2"></i>
                        Google
                    </button>
                    <button type="button" class="flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
                        <i class="fab fa-apple text-gray-800 mr-2"></i>
                        Apple
                    </button>
                </div>

                <!-- Register Link -->
                <div class="text-center mt-6">
                    <p class="text-textlight">
                        –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? 
                        <a href="register.html" class="text-accent font-semibold hover:underline">
                            –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
                        </a>
                    </p>
                </div>
            </div>
        </div>
    </main>

    <!-- Success Notification -->
    <div id="successNotification" class="hidden fixed top-4 right-4 bg-white rounded-lg shadow-xl p-4 flex items-center space-x-3 z-50">
        <i class="fas fa-check-circle text-accent text-xl"></i>
        <p class="font-medium text-textdark">–£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥!</p>
    </div>

    <!-- Error Notification -->
    <div id="errorNotification" class="hidden fixed top-4 right-4 bg-red-50 border border-red-200 rounded-lg shadow-xl p-4 flex items-center space-x-3 z-50">
        <i class="fas fa-exclamation-circle text-red-600 text-xl"></i>
        <p class="font-medium text-red-800" id="errorMessage"></p>
    </div>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200 py-6 mt-auto">
        <div class="container mx-auto px-4 text-center">
            <div class="flex justify-center space-x-6 mb-4">
                <a href="#" class="text-textlight hover:text-accent transition-colors">
                    <i class="fab fa-instagram text-xl"></i>
                </a>
                <a href="#" class="text-textlight hover:text-accent transition-colors">
                    <i class="fab fa-facebook text-xl"></i>
                </a>
                <a href="#" class="text-textlight hover:text-accent transition-colors">
                    <i class="fab fa-telegram text-xl"></i>
                </a>
            </div>
            <p class="text-textlight text-sm">
                &copy; 2025 FitFood. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
            </p>
        </div>
    </footer>

    <!-- JavaScript –¥–ª—è –≤—Ö–æ–¥–∞ -->
    <script>
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è email
            if (!email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
                showError('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email –∞–¥—Ä–µ—Å');
                return;
            }
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è
            if (password.length < 6) {
                showError('–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –Ω–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤');
                return;
            }

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è (–∏–º–∏—Ç–∞—Ü–∏—è)
            const savedProfile = JSON.parse(localStorage.getItem('userProfile'));
            
            if (savedProfile && savedProfile.email === email) {
                // –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥
                const notification = document.getElementById('successNotification');
                notification.classList.remove('hidden');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –≤—Ö–æ–¥–∞
                localStorage.setItem('isLoggedIn', 'true');
                localStorage.setItem('currentUser', JSON.stringify(savedProfile));
                
                // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é
                setTimeout(() => {
                    window.location.href = '../index.html';
                }, 1500);
            } else {
                // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω
                const confirmRegister = confirm('–ê–∫–∫–∞—É–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω. –•–æ—Ç–∏—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è?');
                if (confirmRegister) {
                    window.location.href = 'register.html';
                }
            }
        });

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –æ—à–∏–±–∫–∏
        function showError(message) {
            const errorNotification = document.getElementById('errorNotification');
            const errorMessage = document.getElementById('errorMessage');
            
            errorMessage.textContent = message;
            errorNotification.classList.remove('hidden');
            
            setTimeout(() => {
                errorNotification.classList.add('hidden');
            }, 3000);
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –µ—Å–ª–∏ —É–∂–µ –≤–æ—à–ª–∏
        document.addEventListener('DOMContentLoaded', () => {
            const isLoggedIn = localStorage.getItem('isLoggedIn');
            if (isLoggedIn === 'true') {
                const currentUser = JSON.parse(localStorage.getItem('currentUser'));
                if (currentUser && currentUser.email) {
                    document.getElementById('email').value = currentUser.email;
                }
            }
        });
    </script>
</body>
</html>